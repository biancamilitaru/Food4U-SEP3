@using Entities
@using Client.Data.RestaurantService
@inject IRestaurantService _restaurantService;

@if (_restaurant.Name != null){

<div class="card">
  <div class="card-body">
      <div class="form-group">
          <h4>Information: <span class="glyphicon glyphicon-star" aria-hidden="true"></span></h4>
          <div class="row">
              <div class="column" style="padding-left: 30px">
                  <h6>Adress:</h6> 
              </div>
              <div class="column" style="padding-left: 10px;">
                  @_restaurant.Address
              </div>
          </div>
          <div class="row">
              <div class="column" style="padding-left: 30px">
                  <h6>Phone number:</h6>
              </div>
              <div class="column" style="padding-left: 10px;">
                  @_restaurant.PhoneNumber
              </div>
          </div>
          <a data-toggle="collapse" data-target="#collapseOpeningHours" role="button" aria-expanded="false" aria-controls="collapseOpeningHours">
              <h5>Openning Hours</h5>
          </a>
          <div class="collapse" id="collapseOpeningHours">
              <div class="row">
                  <div class="column" style="padding-left: 30px">
                      <h6>Monday:</h6>
                  </div>
                  <div class="column" style="padding-left: 10px;">
                      @_restaurant.OpeningHoursMonday
                  </div>
              </div>
              <div class="row">
                  <div class="column" style="padding-left: 30px">
                      <h6>Tuesday:</h6>
                  </div>
                  <div class="column" style="padding-left: 10px;">
                      @_restaurant.OpeningHoursTuesday
                  </div>
              </div>
              <div class="row">
                  <div class="column" style="padding-left: 30px">
                      <h6>Wednesday:</h6>
                  </div>
                  <div class="column" style="padding-left: 10px;">
                      @_restaurant.OpeningHoursWednesday
                  </div>
              </div>
              <div class="row">
                  <div class="column" style="padding-left: 30px">
                      <h6>Thurday:</h6>
                  </div>
                  <div class="column" style="padding-left: 10px;">
                      @_restaurant.OpeningHoursThursday
                  </div>
              </div>
              <div class="row">
                  <div class="column" style="padding-left: 30px">
                      <h6>Friday:</h6>
                  </div>
                  <div class="column" style="padding-left: 10px;">
                      @_restaurant.OpeningHoursFriday
                  </div>
              </div>
              <div class="row">
                  <div class="column" style="padding-left: 30px">
                      <h6>Saturday:</h6>
                  </div>
                  <div class="column" style="padding-left: 10px;">
                      @_restaurant.OpeningHoursSaturday
                  </div>
              </div>
              <div class="row">
                  <div class="column" style="padding-left: 30px">
                      <h6>Sunday:</h6>
                  </div>
                  <div class="column" style="padding-left: 10px;">
                      @_restaurant.OpeningHoursSunday
                  </div>
              </div>
          </div>
          <a data-toggle="collapse" data-target="#collapseDelivery" role="button" aria-expanded="false" aria-controls="collapseDelivery">
              <h5>Delivery info</h5>
          </a>
          <div class="collapse" id="collapseDelivery">
              <div class="row">
                  <div class="column" style="padding-left: 30px">
                      <h6>@_restaurant.DeliveryOption1.DeliveryName</h6>
                  </div>
                  <div class="column" style="padding-left: 10px;">
                      @_restaurant.DeliveryOption1.Price
                  </div>
              </div>
              <div class="row">
                  <div class="column" style="padding-left: 30px">
                      <h6>@_restaurant.DeliveryOption2.DeliveryName</h6>
                  </div>
                  <div class="column" style="padding-left: 10px;">
                      @_restaurant.DeliveryOption2.Price
                  </div>
              </div>
          </div>
      </div>
  </div>
</div>
}

@code {
    [Parameter]
    public int Id { get; set; }
    
    private Restaurant _restaurant = new ();
    
    protected override async Task OnInitializedAsync()
    {
        try
        {
            _restaurant = await _restaurantService.GetRestaurantsAsync(Id);
        }
        catch (Exception e)
        {
    // update some error label here, or show popup..
        }
    }
}